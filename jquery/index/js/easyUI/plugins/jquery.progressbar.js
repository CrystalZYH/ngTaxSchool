(function(C){function A(D){C(D).addClass("progressbar");C(D).html('<div class="progressbar-text"></div><div class="progressbar-value"><div class="progressbar-text"></div></div>');return C(D)}function B(G,D){var E=C.data(G,"progressbar").options;var F=C.data(G,"progressbar").bar;if(D){E.width=D}F._outerWidth(E.width)._outerHeight(E.height);F.find("div.progressbar-text").width(F.width());F.find("div.progressbar-text,div.progressbar-value").css({height:F.height()+"px",lineHeight:F.height()+"px"})}C.fn.progressbar=function(F,E){if(typeof F=="string"){var D=C.fn.progressbar.methods[F];if(D){return D(this,E)}}F=F||{};return this.each(function(){var G=C.data(this,"progressbar");if(G){C.extend(G.options,F)}else{G=C.data(this,"progressbar",{options:C.extend({},C.fn.progressbar.defaults,C.fn.progressbar.parseOptions(this),F),bar:A(this)})}C(this).progressbar("setValue",G.options.value);B(this)})};C.fn.progressbar.methods={options:function(D){return C.data(D[0],"progressbar").options},resize:function(D,E){return D.each(function(){B(this,E)})},getValue:function(D){return C.data(D[0],"progressbar").options.value},setValue:function(D,E){if(E<0){E=0}if(E>100){E=100}return D.each(function(){var H=C.data(this,"progressbar").options;var G=H.text.replace(/{value}/,E);var F=H.value;H.value=E;C(this).find("div.progressbar-value").width(E+"%");C(this).find("div.progressbar-text").html(G);if(F!=E){H.onChange.call(this,E,F)}})}};C.fn.progressbar.parseOptions=function(D){return C.extend({},C.parser.parseOptions(D,["width","height","text",{value:"number"}]))};C.fn.progressbar.defaults={width:"auto",height:22,value:0,text:"{value}%",onChange:function(E,D){}}})(jQuery);