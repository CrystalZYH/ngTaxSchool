(function(D){function B(E){var F=D.data(E,"linkbutton").options;var G=D(E);G.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected");if(F.plain){G.addClass("l-btn-plain")}if(F.selected){G.addClass(F.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected")}G.attr("group",F.group||"");G.attr("id",F.id||"");G.html('<span class="l-btn-left"><span class="l-btn-text"></span></span>');if(F.text){G.find(".l-btn-text").html(F.text);if(F.iconCls){G.find(".l-btn-text").addClass(F.iconCls).addClass(F.iconAlign=="left"?"l-btn-icon-left":"l-btn-icon-right")}}else{G.find(".l-btn-text").html('<span class="l-btn-empty">&nbsp;</span>');if(F.iconCls){G.find(".l-btn-empty").addClass(F.iconCls)}}G.unbind(".linkbutton").bind("focus.linkbutton",function(){if(!F.disabled){D(this).find(".l-btn-text").addClass("l-btn-focus")}}).bind("blur.linkbutton",function(){D(this).find(".l-btn-text").removeClass("l-btn-focus")});if(F.toggle&&!F.disabled){G.bind("click.linkbutton",function(){if(F.selected){D(this).linkbutton("unselect")}else{D(this).linkbutton("select")}})}C(E,F.selected);A(E,F.disabled)}function C(E,F){var G=D.data(E,"linkbutton").options;if(F){if(G.group){D('a.l-btn[group="'+G.group+'"]').each(function(){var H=D(this).linkbutton("options");if(H.toggle){D(this).removeClass("l-btn-selected l-btn-plain-selected");H.selected=false}})}D(E).addClass(G.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected");G.selected=true}else{if(!G.group){D(E).removeClass("l-btn-selected l-btn-plain-selected");G.selected=false}}}function A(F,E){var H=D.data(F,"linkbutton");var G=H.options;D(F).removeClass("l-btn-disabled l-btn-plain-disabled");if(E){G.disabled=true;var I=D(F).attr("href");if(I){H.href=I;D(F).attr("href","javascript:void(0)")}if(F.onclick){H.onclick=F.onclick;F.onclick=null}G.plain?D(F).addClass("l-btn-disabled l-btn-plain-disabled"):D(F).addClass("l-btn-disabled")}else{G.disabled=false;if(H.href){D(F).attr("href",H.href)}if(H.onclick){F.onclick=H.onclick}}}D.fn.linkbutton=function(F,E){if(typeof F=="string"){return D.fn.linkbutton.methods[F](this,E)}F=F||{};return this.each(function(){var G=D.data(this,"linkbutton");if(G){D.extend(G.options,F)}else{D.data(this,"linkbutton",{options:D.extend({},D.fn.linkbutton.defaults,D.fn.linkbutton.parseOptions(this),F)});D(this).removeAttr("disabled")}B(this)})};D.fn.linkbutton.methods={options:function(E){return D.data(E[0],"linkbutton").options},enable:function(E){return E.each(function(){A(this,false)})},disable:function(E){return E.each(function(){A(this,true)})},select:function(E){return E.each(function(){C(this,true)})},unselect:function(E){return E.each(function(){C(this,false)})}};D.fn.linkbutton.parseOptions=function(E){var F=D(E);return D.extend({},D.parser.parseOptions(E,["id","iconCls","iconAlign","group",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:(F.attr("disabled")?true:undefined),text:D.trim(F.html()),iconCls:(F.attr("icon")||F.attr("iconCls"))})};D.fn.linkbutton.defaults={id:null,disabled:false,toggle:false,selected:false,group:null,plain:false,text:"",iconCls:null,iconAlign:"left"}})(jQuery);