(function(E){function A(J){E(J).addClass("tooltip-f")}function H(K){var J=E.data(K,"tooltip").options;E(K).unbind(".tooltip").bind(J.showEvent+".tooltip",function(L){G(K,L)}).bind(J.hideEvent+".tooltip",function(L){C(K,L)}).bind("mousemove.tooltip",function(L){if(J.trackMouse){J.trackMouseX=L.pageX;J.trackMouseY=L.pageY;F(K)}})}function D(K){var J=E.data(K,"tooltip");if(J.showTimer){clearTimeout(J.showTimer);J.showTimer=null}if(J.hideTimer){clearTimeout(J.hideTimer);J.hideTimer=null}}function F(J){var L=E.data(J,"tooltip");if(!L||!L.tip){return}var M=L.options;var O=L.tip;if(M.trackMouse){N=E();var P=M.trackMouseX+M.deltaX;var K=M.trackMouseY+M.deltaY}else{var N=E(J);var P=N.offset().left+M.deltaX;var K=N.offset().top+M.deltaY}switch(M.position){case"right":P+=N._outerWidth()+12+(M.trackMouse?12:0);K-=(O._outerHeight()-N._outerHeight())/2;break;case"left":P-=O._outerWidth()+12+(M.trackMouse?12:0);K-=(O._outerHeight()-N._outerHeight())/2;break;case"top":P-=(O._outerWidth()-N._outerWidth())/2;K-=O._outerHeight()+12+(M.trackMouse?12:0);break;case"bottom":P-=(O._outerWidth()-N._outerWidth())/2;K+=N._outerHeight()+12+(M.trackMouse?12:0);break}if(!E(J).is(":visible")){P=-100000;K=-100000}O.css({left:P,top:K,zIndex:(M.zIndex!=undefined?M.zIndex:(E.fn.window?E.fn.window.defaults.zIndex++:""))});M.onPosition.call(J,P,K)}function G(J,K){var M=E.data(J,"tooltip");var L=M.options;var N=M.tip;if(!N){N=E('<div tabindex="-1" class="tooltip"><div class="tooltip-content"></div><div class="tooltip-arrow-outer"></div><div class="tooltip-arrow"></div></div>').appendTo("body");M.tip=N;B(J)}N.removeClass("tooltip-top tooltip-bottom tooltip-left tooltip-right").addClass("tooltip-"+L.position);D(J);M.showTimer=setTimeout(function(){F(J);N.show();L.onShow.call(J,K);var Q=N.children(".tooltip-arrow-outer");var O=N.children(".tooltip-arrow");var P="border-"+L.position+"-color";Q.add(O).css({borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:""});Q.css(P,N.css(P));O.css(P,N.css("backgroundColor"))},L.showDelay)}function C(L,J){var K=E.data(L,"tooltip");if(K&&K.tip){D(L);K.hideTimer=setTimeout(function(){K.tip.hide();K.options.onHide.call(L,J)},K.options.hideDelay)}}function B(N,K){var J=E.data(N,"tooltip");var M=J.options;if(K){M.content=K}if(!J.tip){return}var L=typeof M.content=="function"?M.content.call(N):M.content;J.tip.children(".tooltip-content").html(L);M.onUpdate.call(N,L)}function I(L){var K=E.data(L,"tooltip");if(K){D(L);var J=K.options;if(K.tip){K.tip.remove()}if(J._title){E(L).attr("title",J._title)}E.removeData(L,"tooltip");E(L).unbind(".tooltip").removeClass("tooltip-f");J.onDestroy.call(L)}}E.fn.tooltip=function(K,J){if(typeof K=="string"){return E.fn.tooltip.methods[K](this,J)}K=K||{};return this.each(function(){var L=E.data(this,"tooltip");if(L){E.extend(L.options,K)}else{E.data(this,"tooltip",{options:E.extend({},E.fn.tooltip.defaults,E.fn.tooltip.parseOptions(this),K)});A(this)}H(this);B(this)})};E.fn.tooltip.methods={options:function(J){return E.data(J[0],"tooltip").options},tip:function(J){return E.data(J[0],"tooltip").tip},arrow:function(J){return J.tooltip("tip").children(".tooltip-arrow-outer,.tooltip-arrow")},show:function(J,K){return J.each(function(){G(this,K)})},hide:function(J,K){return J.each(function(){C(this,K)})},update:function(K,J){return K.each(function(){B(this,J)})},reposition:function(J){return J.each(function(){F(this)})},destroy:function(J){return J.each(function(){I(this)})}};E.fn.tooltip.parseOptions=function(K){var L=E(K);var J=E.extend({},E.parser.parseOptions(K,["position","showEvent","hideEvent","content",{deltaX:"number",deltaY:"number",showDelay:"number",hideDelay:"number"}]),{_title:L.attr("title")});L.attr("title","");if(!J.content){J.content=J._title}return J};E.fn.tooltip.defaults={position:"bottom",content:null,trackMouse:false,deltaX:0,deltaY:0,showEvent:"mouseenter",hideEvent:"mouseleave",showDelay:200,hideDelay:100,onShow:function(J){},onHide:function(J){},onUpdate:function(J){},onPosition:function(J,K){},onDestroy:function(){}}})(jQuery);